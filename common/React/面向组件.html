<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>面向组件 | 微光的个人空间</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="此心光明，夫复何求">
    <meta name="keywords" content="前端，博客，微光">
    <meta name="author" content="微光">
    
    <link rel="preload" href="/docs/assets/css/0.styles.ec62b53c.css" as="style"><link rel="preload" href="/docs/assets/js/app.2c569677.js" as="script"><link rel="preload" href="/docs/assets/js/2.b553e760.js" as="script"><link rel="preload" href="/docs/assets/js/17.9152cade.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.27f358f4.js"><link rel="prefetch" href="/docs/assets/js/11.5e0534be.js"><link rel="prefetch" href="/docs/assets/js/12.a8e27388.js"><link rel="prefetch" href="/docs/assets/js/13.659b955f.js"><link rel="prefetch" href="/docs/assets/js/14.b50a1ddb.js"><link rel="prefetch" href="/docs/assets/js/15.60a6e67e.js"><link rel="prefetch" href="/docs/assets/js/16.39eb65dc.js"><link rel="prefetch" href="/docs/assets/js/18.2f507d00.js"><link rel="prefetch" href="/docs/assets/js/19.522a0124.js"><link rel="prefetch" href="/docs/assets/js/20.9f8f8ed1.js"><link rel="prefetch" href="/docs/assets/js/21.0f0c4298.js"><link rel="prefetch" href="/docs/assets/js/22.52f04b6c.js"><link rel="prefetch" href="/docs/assets/js/23.8effa93c.js"><link rel="prefetch" href="/docs/assets/js/24.aa7e3823.js"><link rel="prefetch" href="/docs/assets/js/25.99fd944c.js"><link rel="prefetch" href="/docs/assets/js/26.2249d5eb.js"><link rel="prefetch" href="/docs/assets/js/27.faa0dfcc.js"><link rel="prefetch" href="/docs/assets/js/28.7967f478.js"><link rel="prefetch" href="/docs/assets/js/29.cb4d6ec0.js"><link rel="prefetch" href="/docs/assets/js/3.733d138c.js"><link rel="prefetch" href="/docs/assets/js/30.225a2b1f.js"><link rel="prefetch" href="/docs/assets/js/31.3e922dc0.js"><link rel="prefetch" href="/docs/assets/js/32.c3edfaba.js"><link rel="prefetch" href="/docs/assets/js/33.577309f7.js"><link rel="prefetch" href="/docs/assets/js/34.a33bb6f7.js"><link rel="prefetch" href="/docs/assets/js/35.4fb51e90.js"><link rel="prefetch" href="/docs/assets/js/36.d8148370.js"><link rel="prefetch" href="/docs/assets/js/37.6f38f7b2.js"><link rel="prefetch" href="/docs/assets/js/38.2ffc33cc.js"><link rel="prefetch" href="/docs/assets/js/39.4c392a9b.js"><link rel="prefetch" href="/docs/assets/js/4.26e91e99.js"><link rel="prefetch" href="/docs/assets/js/40.b9cd47c9.js"><link rel="prefetch" href="/docs/assets/js/41.f80814d7.js"><link rel="prefetch" href="/docs/assets/js/42.56088e8e.js"><link rel="prefetch" href="/docs/assets/js/43.eca173b9.js"><link rel="prefetch" href="/docs/assets/js/5.9c5ce922.js"><link rel="prefetch" href="/docs/assets/js/6.0fdbb52f.js"><link rel="prefetch" href="/docs/assets/js/7.351b5044.js"><link rel="prefetch" href="/docs/assets/js/8.c3bb1637.js"><link rel="prefetch" href="/docs/assets/js/9.1f4f5613.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.ec62b53c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">微光的个人空间</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/common/" class="nav-link router-link-active">
  常见技术栈
</a></div><div class="nav-item"><a href="/docs/deepUse/" class="nav-link">
  深入理解
</a></div><div class="nav-item"><a href="/docs/tools/" class="nav-link">
  工具和扩展
</a></div><div class="nav-item"><a href="/docs/project/" class="nav-link">
  项目
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/common/" class="nav-link router-link-active">
  常见技术栈
</a></div><div class="nav-item"><a href="/docs/deepUse/" class="nav-link">
  深入理解
</a></div><div class="nav-item"><a href="/docs/tools/" class="nav-link">
  工具和扩展
</a></div><div class="nav-item"><a href="/docs/project/" class="nav-link">
  项目
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>面向组件</span> <!----></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="面向组件"><a href="#面向组件" class="header-anchor">#</a> 面向组件</h3> <h4 id="组件基础"><a href="#组件基础" class="header-anchor">#</a> 组件基础</h4> <h5 id="_1、react的组件分为3个部分"><a href="#_1、react的组件分为3个部分" class="header-anchor">#</a> 1、react的组件分为3个部分：</h5> <ul><li>属性props</li> <li>状态state</li> <li>生命周期</li></ul> <h5 id="_2、组件当中的重要内容"><a href="#_2、组件当中的重要内容" class="header-anchor">#</a> 2、组件当中的重要内容</h5> <ul><li>构建方式</li> <li>组件的属性</li> <li>生命周期</li></ul> <h5 id="_3、tips"><a href="#_3、tips" class="header-anchor">#</a> 3、tips</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//react的组件 是一个非常重要的概念  通过组件可以把页面中的ui部分切分成独立 高复用性的部件 让每个开发者更加专注于一个个的部件</span>

<span class="token comment">// 组件和组件化</span>
<span class="token comment">// 组件   就是用来实现页面局部功能的代码集合  简化页面的复杂程度 提高运行效率</span>
<span class="token comment">// 组件化  当前程序都是使用组件完成的 那么这就是一个组件化的应用</span>
</code></pre></div><h5 id="_4、组件的创建"><a href="#_4、组件的创建" class="header-anchor">#</a> 4、组件的创建</h5> <div class="language-js extra-class"><pre class="language-js"><code>####  <span class="token number">1</span>、函数组件<span class="token operator">/</span>无状态组件
  <span class="token keyword">function</span> <span class="token function">MyCom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">//这里组件名首字母必须大写，采用大驼峰命名法，小写字母是元素</span>
      <span class="token keyword">return</span><span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>我是一个函数化组件<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token comment">//组件就是自定义标签</span>
<span class="token comment">//调用组件</span>
<span class="token keyword">let</span> com<span class="token operator">=</span><span class="token operator">&lt;</span>MyCom <span class="token operator">/</span><span class="token operator">&gt;</span>
ReactDom<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>com<span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//嵌套就是在一个组件里调用另一个组件</span>

####  <span class="token number">2</span>、类组件
 <span class="token keyword">class</span> <span class="token class-name">MyCom</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
     <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
         <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>类组件<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">)</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
</code></pre></div><h5 id="_5、props"><a href="#_5、props" class="header-anchor">#</a> 5、props</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//props是组件对外的接口，组件自己无法修改</span>
#### 无状态组件
  <span class="token keyword">function</span> <span class="token function">Com</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>
       <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>外部传递的数据<span class="token operator">:</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>text<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Com text<span class="token operator">=</span><span class="token string">&quot;我是传递给Com组件的props数据&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  
  <span class="token comment">//传递多个参数，可使用对象传递</span>
  <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
      text<span class="token operator">:</span><span class="token string">'props数据'</span><span class="token punctuation">,</span>
      num<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
   ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Com <span class="token punctuation">{</span><span class="token operator">...</span>obj<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  
  #### 类组件
  <span class="token keyword">class</span> <span class="token class-name">MyCom</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
     <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
         <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>外部传递的数据：<span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>text<span class="token punctuation">}</span><span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>num<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">)</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
</code></pre></div><h5 id="_6、props验证和默认值"><a href="#_6、props验证和默认值" class="header-anchor">#</a> 6、props验证和默认值</h5> <p><a href="https://zh-hans.reactjs.org/docs/typechecking-with-proptypes.html#gatsby-focus-wrapper" target="_blank" rel="noopener noreferrer">官网：类型验证<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-js extra-class"><pre class="language-js"><code>#### 无状态组件
 <span class="token keyword">function</span> <span class="token function">Com</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>
       <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>外部传递的数据<span class="token operator">:</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>text<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  Com<span class="token punctuation">.</span>defaultPros<span class="token operator">=</span><span class="token punctuation">{</span>
      text<span class="token operator">:</span><span class="token string">'我是props中text的默认值'</span>
  <span class="token punctuation">}</span>
<span class="token comment">//如果是15x版本的react，纳闷我们使用||来完成</span>
<span class="token comment">/*
   function Com(props){
      props.text = props.text||&quot;我是默认值&quot;
      return (
       &lt;div&gt;外部传递的数据:{props.text}&lt;/div&gt;
      )
  }
*/</span>

<span class="token comment">//props验证，验证传递进来的数据是否符合我们期望的类型或要求</span>
<span class="token comment">//上线模式中要取消props验证</span>
##### 方法
<span class="token comment">/*
1、引入props-types库 npm install --save prop-types
2、Com.propTypes = {
    text:PropTypes.number 验证text的数据类型必须是number类型
    num:PropTypes.number.isRequired     isRequired表示不能为空
}
*/</span>

 ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Com <span class="token punctuation">{</span><span class="token operator">...</span>obj<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

### 类组件
<span class="token keyword">class</span> <span class="token class-name">Title</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token comment">// 使用类创建的组件，直接在这里写static方法，创建defaultProps</span>
  <span class="token keyword">static</span> defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'React'</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
  		<span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>欢迎进入<span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span>的世界<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
  	<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//使用类似无状态组件的方法设置默认值对类组件一样可以</span>
</code></pre></div><h3 id="state基础"><a href="#state基础" class="header-anchor">#</a> state基础</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//state是对内的接口，props是组件对外的接口</span>
#### 申明式渲染     一切的数据改变操作都不需要我们操心，只要我们申明好数据，react会自动的对数据进行相应的改变
<span class="token keyword">class</span> <span class="token class-name">Com</span> extend React<span class="token punctuation">.</span>Component<span class="token punctuation">{</span>
    <span class="token comment">//在ES6中，不管子类写不写constructor new实例时都会补上constructor</span>
    <span class="token comment">//如果我们写了constructor 之后就必须写上super()</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//如果在constructor中使用Props那么super必须写上props</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token operator">=</span><span class="token punctuation">{</span>
            name<span class="token operator">:</span><span class="token string">'嘻嘻'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
           <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>我是一个组件<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="state进阶"><a href="#state进阶" class="header-anchor">#</a> state进阶</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//为了安全，标签插入时会转义成字符串，所以需要加dangerousSetInnerHTML={{__html:你要插入得内容}}</span>

#### <span class="token function">refa转发</span>  <span class="token punctuation">(</span>不能再无状态组件中使用 因为无状态组件没有实例<span class="token punctuation">)</span>
<span class="token comment">//表示当前组件真正实例得引用 他会返回绑定当前属性得元素</span>
<span class="token comment">//标识组件内部得元素 方便我们查找</span>

<span class="token comment">//react给我们三种方式进行ref的使用</span>
<span class="token comment">//1、字符串的方式</span>
<span class="token comment">//2、回调函数(推荐)</span>
<span class="token comment">//3、React cteateRef()(React16.3新增的一种方式)</span>

##### <span class="token number">1</span>、字符串的方式
<span class="token keyword">class</span> <span class="token class-name">Com</span> extend React<span class="token punctuation">.</span>Component<span class="token punctuation">{</span>
    <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>refs<span class="token punctuation">.</span>demoInput<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
           <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>我是一个组件
            <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">'text'</span> ref<span class="token operator">=</span><span class="token string">'demoInput'</span> placeholder<span class="token operator">=</span><span class="token string">'请输入'</span><span class="token operator">&gt;</span>         <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token string">'{this.fun}'</span><span class="token operator">&gt;</span>点我得到输入框的值<span class="token operator">&lt;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

##### <span class="token number">2</span><span class="token function">、回调函数</span><span class="token punctuation">(</span>推荐<span class="token punctuation">)</span>
<span class="token comment">//就是再dom节点上或者组件上挂载函数 函数的入参形参 是dom节点 达到的效果和字符串是一样的</span>
<span class="token keyword">class</span> <span class="token class-name">Com</span> extend React<span class="token punctuation">.</span>Component<span class="token punctuation">{</span>
    <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>textInput<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
           <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>我是一个组件
            <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">'text'</span> ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">input</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>textInput<span class="token operator">=</span>input<span class="token punctuation">}</span><span class="token punctuation">}</span> placeholder<span class="token operator">=</span><span class="token string">'请输入'</span><span class="token operator">&gt;</span>         <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token string">'{this.fun}'</span><span class="token operator">&gt;</span>点我得到输入框的值<span class="token operator">&lt;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

##### <span class="token number">3</span><span class="token function">、createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">//就是在dom节点上或者组件上挂载函数 函数的入参形参 是dom节点 达到的效果和字符串是一样的</span>
<span class="token keyword">class</span> <span class="token class-name">Com</span> extend React<span class="token punctuation">.</span>Component<span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>myRef<span class="token operator">=</span>React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>myRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
           <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>我是一个组件
            <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">'text'</span> ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>myRef<span class="token punctuation">}</span> placeholder<span class="token operator">=</span><span class="token string">'请输入'</span><span class="token operator">&gt;</span>         <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token string">'{this.fun}'</span><span class="token operator">&gt;</span>点我得到输入框的值<span class="token operator">&lt;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_1、事件与this"><a href="#_1、事件与this" class="header-anchor">#</a> 1、事件与this</h4> <div class="language-js extra-class"><pre class="language-js"><code>#### 修改<span class="token keyword">this</span>指向
<span class="token comment">//1、bind方式绑定</span>
<span class="token comment">//2、函数通过箭头函数进行创建</span>
<span class="token comment">//3、constructor中提前绑定</span>
<span class="token comment">//4、将事件的调用写成箭头函数的调用方式</span>

<span class="token keyword">class</span> <span class="token class-name">Com</span> extend React<span class="token punctuation">.</span>Component<span class="token punctuation">{</span>
    constructor<span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>func<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">func</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
   <span class="token function">funa</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
   <span class="token function-variable function">funb</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
   <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token function">fund</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
           <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>我是一个组件
           <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token string">'{this.funa.bind(this)}'</span><span class="token operator">&gt;</span>Bind方法<span class="token operator">&lt;</span><span class="token operator">/</span> button<span class="token operator">&gt;</span>              
            <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token string">'{this.funb}'</span><span class="token operator">&gt;</span>箭头函数<span class="token operator">&lt;</span><span class="token operator">/</span> button<span class="token operator">&gt;</span>                   <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token string">'{this.func}'</span><span class="token operator">&gt;</span>提前绑定<span class="token operator">&lt;</span><span class="token operator">/</span> button<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token string">'{()=&gt;{this.fund()}'</span><span class="token operator">&gt;</span>箭头函数的调用方式<span class="token operator">&lt;</span><span class="token operator">/</span> button<span class="token operator">&gt;</span>            
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_2、条件渲染"><a href="#_2、条件渲染" class="header-anchor">#</a> 2、条件渲染</h4> <div class="language-js extra-class"><pre class="language-js"><code>### 条件渲染是什么 <span class="token operator">--</span><span class="token operator">-</span>根据状态的变化只渲染其中的一部分
<span class="token comment">//1、if语句 jsx中不允许有if(这句话不知道怎么理解)</span>
</code></pre></div><h4 id="_3、状态提升"><a href="#_3、状态提升" class="header-anchor">#</a> 3、状态提升</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 多个组件需要反应相同的变化数据 ，提升到他们最近的一个父组件中</span>
<span class="token comment">// 多个子组件需要利用对方状态的情况下 那么这个时候就需要使用到状态提升</span>
<span class="token keyword">class</span> <span class="token class-name">DemoA</span>  extend React<span class="token punctuation">.</span>Component<span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
           <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>我是第一个组件<span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>porps<span class="token punctuation">.</span>text<span class="token punctuation">}</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">DemoB</span> extend React<span class="token punctuation">.</span>Component<span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
           <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>我是第二个组件<span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>porps<span class="token punctuation">.</span>text<span class="token punctuation">}</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Com</span> extend React<span class="token punctuation">.</span>Component<span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token operator">=</span><span class="token punctuation">{</span>
            comtext<span class="token operator">:</span><span class="token string">'我是两个人都想使用的数据'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
           <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>DemoA text<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>comtext<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>DemoB text<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>comtext<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_4、creat-react-app的项目文件"><a href="#_4、creat-react-app的项目文件" class="header-anchor">#</a> 4、creat-react-app的项目文件</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">1</span>、Public 静态资源文件
<span class="token number">2</span>、src 写代码的地方

<span class="token comment">//图片引用和vue一样，import或require或把图片放到Public</span>
</code></pre></div><h4 id="_5、组件传值"><a href="#_5、组件传值" class="header-anchor">#</a> 5、组件传值</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//父传子 props</span>
<span class="token comment">//子传父 利用函数形参传参</span>
<span class="token comment">//同级传参 使用Pubsub-js插件</span>

npm install <span class="token operator">--</span>save pubsub<span class="token operator">-</span>js
<span class="token comment">//import引用后在函数内使用下列语句即可</span>
Pubsub<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'事件'</span><span class="token punctuation">,</span>要传递的参数<span class="token punctuation">)</span>
Pubsub<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'事件'</span><span class="token punctuation">,</span>传递的参数<span class="token punctuation">)</span>

<span class="token comment">//跨组件通信，react还提供了contextd api来实现</span>
<span class="token comment">//理解：调用createContext方法返回一个对象，对象中的provider放置在一个足够高的节点，用来存储方法和状态，供其他所管辖的组件使用</span>

#### 使用方法
<span class="token comment">//1、在一个足够高的节点使用解构出来的&lt;Provider&gt;&lt;/Provider&gt;</span>
<span class="token comment">//2、在需要使用传值的地方，无状态组件使用</span>
      <span class="token operator">&lt;</span>Consumer<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>
          <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span> value <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Consumer<span class="token operator">&gt;</span><span class="token punctuation">,</span>
<span class="token comment">//   类组件使用static contextType = testContent;其中testType是createContext()返回的对象，然后使用this.context调用provider的value值</span>
</code></pre></div><h4 id="_6、生命周期"><a href="#_6、生命周期" class="header-anchor">#</a> 6、生命周期</h4> <p><a href="https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/" target="_blank" rel="noopener noreferrer">react生命周期表<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img src="D:%5Cprofession%5Chtml5%5CStage_three%5C%E6%80%BB%E7%BB%93%5Creact%5Cold-lifecycle.PNG" alt="old-lifecycle"></p> <div class="language-js extra-class"><pre class="language-js"><code>#### <span class="token number">16.3</span>版本做了一个大更新，<span class="token number">16.4</span>做了一个小更新，现在是<span class="token number">16.14</span>
<span class="token comment">//16.3废弃了很多生命周期，如果使用需要在前面加UNSAFE_</span>
<span class="token comment">//16.4加长了getDrivedStateFromProps的范围</span>
<span class="token comment">//类和模块内部默认就是严格模式，严格模式下老的生命周期直接报错</span>

<span class="token comment">//getsnapshotBeforeUpdata做一个快照,返回值可以作为componentDidUpdata的参数</span>
</code></pre></div><h4 id="_7、插槽"><a href="#_7、插槽" class="header-anchor">#</a> 7、插槽</h4> <div class="language-js extra-class"><pre class="language-js"><code>父组件：    <span class="token operator">&lt;</span>Child<span class="token operator">&gt;</span>插入内容<span class="token operator">&lt;</span><span class="token operator">/</span>Child<span class="token operator">&gt;</span>
子组件：    <span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></div><h4 id=""><a href="#" class="header-anchor">#</a></h4></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.2c569677.js" defer></script><script src="/docs/assets/js/2.b553e760.js" defer></script><script src="/docs/assets/js/17.9152cade.js" defer></script>
  </body>
</html>
