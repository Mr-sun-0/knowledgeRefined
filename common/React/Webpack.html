<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Webpack | 微光的个人空间</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="此心光明，夫复何求">
    <meta name="keywords" content="前端，博客，微光">
    <meta name="author" content="微光">
    
    <link rel="preload" href="/docs/assets/css/0.styles.ec62b53c.css" as="style"><link rel="preload" href="/docs/assets/js/app.2c569677.js" as="script"><link rel="preload" href="/docs/assets/js/2.b553e760.js" as="script"><link rel="preload" href="/docs/assets/js/13.659b955f.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.27f358f4.js"><link rel="prefetch" href="/docs/assets/js/11.5e0534be.js"><link rel="prefetch" href="/docs/assets/js/12.a8e27388.js"><link rel="prefetch" href="/docs/assets/js/14.b50a1ddb.js"><link rel="prefetch" href="/docs/assets/js/15.60a6e67e.js"><link rel="prefetch" href="/docs/assets/js/16.39eb65dc.js"><link rel="prefetch" href="/docs/assets/js/17.9152cade.js"><link rel="prefetch" href="/docs/assets/js/18.2f507d00.js"><link rel="prefetch" href="/docs/assets/js/19.522a0124.js"><link rel="prefetch" href="/docs/assets/js/20.9f8f8ed1.js"><link rel="prefetch" href="/docs/assets/js/21.0f0c4298.js"><link rel="prefetch" href="/docs/assets/js/22.52f04b6c.js"><link rel="prefetch" href="/docs/assets/js/23.8effa93c.js"><link rel="prefetch" href="/docs/assets/js/24.aa7e3823.js"><link rel="prefetch" href="/docs/assets/js/25.99fd944c.js"><link rel="prefetch" href="/docs/assets/js/26.2249d5eb.js"><link rel="prefetch" href="/docs/assets/js/27.faa0dfcc.js"><link rel="prefetch" href="/docs/assets/js/28.7967f478.js"><link rel="prefetch" href="/docs/assets/js/29.cb4d6ec0.js"><link rel="prefetch" href="/docs/assets/js/3.733d138c.js"><link rel="prefetch" href="/docs/assets/js/30.225a2b1f.js"><link rel="prefetch" href="/docs/assets/js/31.3e922dc0.js"><link rel="prefetch" href="/docs/assets/js/32.c3edfaba.js"><link rel="prefetch" href="/docs/assets/js/33.577309f7.js"><link rel="prefetch" href="/docs/assets/js/34.a33bb6f7.js"><link rel="prefetch" href="/docs/assets/js/35.4fb51e90.js"><link rel="prefetch" href="/docs/assets/js/36.d8148370.js"><link rel="prefetch" href="/docs/assets/js/37.6f38f7b2.js"><link rel="prefetch" href="/docs/assets/js/38.2ffc33cc.js"><link rel="prefetch" href="/docs/assets/js/39.4c392a9b.js"><link rel="prefetch" href="/docs/assets/js/4.26e91e99.js"><link rel="prefetch" href="/docs/assets/js/40.b9cd47c9.js"><link rel="prefetch" href="/docs/assets/js/41.f80814d7.js"><link rel="prefetch" href="/docs/assets/js/42.56088e8e.js"><link rel="prefetch" href="/docs/assets/js/43.eca173b9.js"><link rel="prefetch" href="/docs/assets/js/5.9c5ce922.js"><link rel="prefetch" href="/docs/assets/js/6.0fdbb52f.js"><link rel="prefetch" href="/docs/assets/js/7.351b5044.js"><link rel="prefetch" href="/docs/assets/js/8.c3bb1637.js"><link rel="prefetch" href="/docs/assets/js/9.1f4f5613.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.ec62b53c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">微光的个人空间</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/common/" class="nav-link router-link-active">
  常见技术栈
</a></div><div class="nav-item"><a href="/docs/deepUse/" class="nav-link">
  深入理解
</a></div><div class="nav-item"><a href="/docs/tools/" class="nav-link">
  工具和扩展
</a></div><div class="nav-item"><a href="/docs/project/" class="nav-link">
  项目
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/common/" class="nav-link router-link-active">
  常见技术栈
</a></div><div class="nav-item"><a href="/docs/deepUse/" class="nav-link">
  深入理解
</a></div><div class="nav-item"><a href="/docs/tools/" class="nav-link">
  工具和扩展
</a></div><div class="nav-item"><a href="/docs/project/" class="nav-link">
  项目
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Webpack</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/common/React/Webpack.html#一、市面上有哪些类似于webpack的前端工程化工具【-自动化工具-】" class="sidebar-link">一、市面上有哪些类似于Webpack的前端工程化工具【 自动化工具 】</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/common/React/Webpack.html#二、-webpack版本的发展过程" class="sidebar-link">二、 Webpack版本的发展过程</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/common/React/Webpack.html#三、-webpack涉及到的前端环境问题" class="sidebar-link">三、 Webpack涉及到的前端环境问题</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/common/React/Webpack.html#五、webpack的安装" class="sidebar-link">五、Webpack的安装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/common/React/Webpack.html#_1-全局安装-选择以下一种即可" class="sidebar-link">1.全局安装(  选择以下一种即可  )</a></li><li class="sidebar-sub-header"><a href="/docs/common/React/Webpack.html#_2-局部安装" class="sidebar-link">2.局部安装</a></li></ul></li><li><a href="/docs/common/React/Webpack.html#六、webpack的概念" class="sidebar-link">六、Webpack的概念</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/common/React/Webpack.html#七、webpack-使用" class="sidebar-link">七、Webpack 使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/common/React/Webpack.html#_1-终端命令行使用" class="sidebar-link">1.终端命令行使用</a></li><li class="sidebar-sub-header"><a href="/docs/common/React/Webpack.html#_2-配置文件使用" class="sidebar-link">2.配置文件使用</a></li><li class="sidebar-sub-header"><a href="/docs/common/React/Webpack.html#_3-配置webpack-config-js文件" class="sidebar-link">3.配置webpack.config.js文件</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="webpack"><a href="#webpack" class="header-anchor">#</a> Webpack</h1> <h2 id="一、市面上有哪些类似于webpack的前端工程化工具【-自动化工具-】"><a href="#一、市面上有哪些类似于webpack的前端工程化工具【-自动化工具-】" class="header-anchor">#</a> 一、市面上有哪些类似于Webpack的前端工程化工具【 自动化工具 】</h2> <blockquote><p>比较使用量比较多的有5种</p> <ul><li>gulp 4.x</li> <li>webpack 4.x</li> <li>rollup</li> <li>parcel</li> <li>FIS3</li></ul> <p>经验给到你</p> <ul><li>先掌握构建工具其中一个  gulp  /  webpack</li> <li>学会去读文档</li> <li>如果文档不行 -&gt; 视频资源  -&gt; 联系老师 -&gt; 远程讲解 -&gt;  Teamviwer【 远程软件 】</li></ul></blockquote> <ol><li>grunt   【 已经不用了 】</li> <li>gulp ( 4.x ) 【 老项目还在用 】- Node.js 的流式操作</li> <li>Browserify ( Webpack 前身 )   - 处理的AMD模块化    - 功能有限</li> <li>Webpack 【 主流行 】 -&gt; webpack 4.x 版本</li> <li>rollup.js   <a href="https://www.rollupjs.com/guide/zh" target="_blank" rel="noopener noreferrer">https://www.rollupjs.com/guide/zh<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 【 小众 】
<ol><li>特点
<ul><li>将小块代码编译为大块复杂的代码  -&gt; 拼图
<ul><li>分层比较多，调用链比较长时，比较耗性能、</li> <li>rollup可以将这种分层比较多的模块化给它进行组合编译成分层比较少的，节省性能</li></ul></li> <li>针对es6模块化的编译</li></ul></li> <li>阿里项目中使用了</li></ol></li> <li><a href="https://parceljs.org/" target="_blank" rel="noopener noreferrer">parcel<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>  【 小众 】、
<ol><li>特点：
<ul><li>多线程编译，极致速度</li></ul></li></ol></li> <li>FIS <a href="https://fis.baidu.com/" target="_blank" rel="noopener noreferrer">https://fis.baidu.com/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>  【 小众 】
<ol><li>特点： 解决前端开发中自动化工具、性能优化、模块化框架、开发规范、代码部署、开发流程等问题
<ul><li>类似码云， 可以进行团队开发、代码部署</li></ul></li> <li>百度产品比较多</li></ol></li></ol> <h2 id="二、-webpack版本的发展过程"><a href="#二、-webpack版本的发展过程" class="header-anchor">#</a> 二、 Webpack版本的发展过程</h2> <p>​    官网: <a href="https://webpack.js.org/" target="_blank" rel="noopener noreferrer">https://webpack.js.org/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>​    中文: <a href="https://www.webpackjs.com/" target="_blank" rel="noopener noreferrer">https://www.webpackjs.com/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>webpack1</strong></p> <p>​		支持CMD和AMD，同时拥有丰富的plugin和loader，webpack逐渐得到广泛应用。</p> <p>​		loader： 将某一个类型文件转换为其他类型文件</p> <p>​		plugin： 插件</p> <div class="language- extra-class"><pre><code>				-  服务器
				-  图片处理
				-  。。。
</code></pre></div><p><strong>webpack2</strong></p> <p>​		支持ES Module，分析ESModule之间的依赖关系，</p> <p>​		webpack1必须将ES，Module转换成CommonJS模块，2支持tree sharking</p> <p><strong>webpack3</strong></p> <p>​		新的特性大都围绕ES Module提出，如Scope Hoisting和Magic Comment；</p> <p>​                webpack3以上基本上都可以解决es6提出的模块化</p> <p><strong>webpack4</strong></p> <p>​        	可以解决es6模块化【 export default / export          import 】</p> <p>​		更多个功能性 pulgin【 插件 】  和  loader 【 转换器 】</p> <p>​		前端框架中广泛使用： Angular  Vue  React  的脚手架都是由webpack来进行开发、管理</p> <p>学习目标：</p> <p>​	- 通过webpack自主构建一个项目 【 手动构建一个项目 】</p> <ul><li>webpack基本配置</li> <li>webpack高级配置</li></ul> <h2 id="三、-webpack涉及到的前端环境问题"><a href="#三、-webpack涉及到的前端环境问题" class="header-anchor">#</a> 三、 Webpack涉及到的前端环境问题</h2> <ol><li><p>Webpack底层是由 Node.js 来开发的，也就是说Webpack的配置文件都是 Node.js 文件</p></li> <li><p>Webpack的模块化书写的规范是Common.js规范</p></li> <li><p>环境支持： Node.js  8+</p></li> <li><p><strong>前端环境：</strong> 【 重点 】</p> <ul><li>开发环境 -  无法直接在服务器中去运行</li> <li>生产环境 - 将开发环境下的代码经过  打包  压缩   编译  之后的文件</li> <li>测试环境 - 将开发环境的代码经过  打包  压缩   编译  之后的文件，放在测试环境服务器中运行
<ul><li>unit test 单元测试 【 mocha  Jest 】</li> <li>e2e 端到端测试</li></ul></li> <li>预上线环境：  将开发环境的代码经过  打包  压缩   编译  之后的文件，放到一个局域网中去运行</li> <li>上线环境：将开发环境的代码经过  打包  压缩   编译  之后的文件，放到云服务器或是服务器主机中，可以供任何人访问，使用的一个环境（ 这个环境的上线要经过国家审核 ）</li></ul></li> <li><p>核心关注点在：</p></li></ol> <ul><li>开发环境</li> <li>生产环境</li></ul> <h2 id="五、webpack的安装"><a href="#五、webpack的安装" class="header-anchor">#</a> 五、Webpack的安装</h2> <blockquote><p>安装可以使用任何一个包管理器： npm  yarn   cnpm</p> <p>yarn   &gt;  cnpm  &gt;  npm</p> <p>举例： 我使用npm安装了一个叫做 node-sass 的包 ，但是出错了 ，这时，我们想卸载，发现卸载报错</p> <p>解决： 覆盖安装</p> <p>cnpm || yarn 进行覆盖安装</p> <p>cnpm  和 yarn  优先级没有那么绝对</p></blockquote> <h3 id="_1-全局安装-选择以下一种即可"><a href="#_1-全局安装-选择以下一种即可" class="header-anchor">#</a> 1.全局安装(  选择以下一种即可  )</h3> <p><code>$ npm install webpack webpack-cli -g</code></p> <p><code>$ cnpm install webpack webpack-cli -g</code></p> <p><code>$ yarn add webpack webpack-cli global</code></p> <h3 id="_2-局部安装"><a href="#_2-局部安装" class="header-anchor">#</a> 2.局部安装</h3> <p><code>$ npm install webpack webpack-cli -D</code></p> <p><code>$ cnpm install webpack webpack-cli -D</code></p> <p><code>$ yarn add webpack webpack-cli -D</code></p> <p><strong>局部优先级 &gt; 全局</strong></p> <h2 id="六、webpack的概念"><a href="#六、webpack的概念" class="header-anchor">#</a> 六、Webpack的概念</h2> <ul><li><p>webpack* 是一个现代 JavaScript 应用程序的<em>静态模块打包器(module bundler)</em>。当 webpack 处理应用程序时，它会递归地构建一个<em>依赖关系图(dependency graph)</em>，其中包含应用程序需要的每个模块，然后将所有这些模块打包成一个或多个 <em>bundle</em>（ 分块束 ）</p> <blockquote><p>理解：</p> <p>​	举例： 我们又两个模块，A模块引用B模块，我们现在使用webpack打包A模块，webpack会自动寻找A和B之间的关系，进而打包B模块</p></blockquote></li></ul> <h2 id="七、webpack-使用"><a href="#七、webpack-使用" class="header-anchor">#</a> 七、Webpack 使用</h2> <blockquote><p>默认源代码开发目录为： src</p> <p>默认的入口文件名称为： src/index.js</p> <p>默认出口目录为： dist</p> <p>默认出口打包文件名称为： main.js</p> <p>通过mode来设置是那个环境下打包使用</p> <p>开发环境打包： 代码不经过压缩、注释不会被删除</p> <p>eval 这个方法时用来解析字符串，这个字符串里面有js代码 【 性能不太好 】</p></blockquote> <h3 id="_1-终端命令行使用"><a href="#_1-终端命令行使用" class="header-anchor">#</a> 1.终端命令行使用</h3> <ul><li><p>终端运行  webpack</p> <ul><li><p>当我们局部安装了webpack  webpack-cli后，发现运行webpack报错命名找不到</p> <ul><li>解决： 全局安装webpack webpack-cli</li></ul></li> <li><p>默认生成环境打包</p></li></ul></li> <li><p>webpack --mode development/production      开发环境/生产环境打包</p></li></ul> <h3 id="_2-配置文件使用"><a href="#_2-配置文件使用" class="header-anchor">#</a> 2.配置文件使用</h3> <ul><li>默认webpack配置性文件名称为   webpack.config.js，这个文件是在根目录下运行的</li> <li>运行  webpack  命令就会自动的去寻找这个 文件</li> <li>webpack.config.js文件中我们配置的就是 webpack的参数</li></ul> <h3 id="_3-配置webpack-config-js文件"><a href="#_3-配置webpack-config-js文件" class="header-anchor">#</a> 3.配置webpack.config.js文件</h3> <blockquote><p>我们接下来对这个文件进行配置，主要从以下几个方面来着手</p> <div class="language- extra-class"><pre><code>  1. 基础功能 ：  入口   出口 文件配置
  2. 转换器： loader 
  3. 插件: plugin
  
  单页面配置  vs  多页面配置 
  	单页面配置指的只有一个入口一个出口的项目  【 推荐 】
  	多页面配置指的是有多个入口多个出口的项目
</code></pre></div></blockquote> <h4 id="_1-单页面配置"><a href="#_1-单页面配置" class="header-anchor">#</a> 1.单页面配置</h4> <h5 id="_1-1-基础功能"><a href="#_1-1-基础功能" class="header-anchor">#</a> 1.1 基础功能</h5> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/* 
  webpack配置文件
  也是Node.js文件
  这个文件也是一个独立的 Common.js 模块
*/</span>

<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>

<span class="token comment">// 1. 创建模块</span>

<span class="token keyword">const</span> webpackConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./src/index.js'</span><span class="token punctuation">,</span> <span class="token comment">//网络路径（ 相对路径 ）</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">//出口目录、文件的配置</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span> __dirname<span class="token punctuation">,</span><span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 磁盘路径</span>
    filename<span class="token operator">:</span> <span class="token string">'js/app.js'</span> <span class="token comment">// 入口文件将来打包到出口目录中的文件的路径和名称</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  mode<span class="token operator">:</span> <span class="token string">'development'</span><span class="token comment">//确定是生产环境还是开发环境的打包</span>
<span class="token punctuation">}</span>

<span class="token comment">// 2. 导出模块</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> webpackConfig




</code></pre></div><h5 id="_1-2-问题-验证webpack是否能自动解决模块化依赖问题-可以"><a href="#_1-2-问题-验证webpack是否能自动解决模块化依赖问题-可以" class="header-anchor">#</a> 1.2 问题： 验证webpack是否能自动解决模块化依赖问题      可以</h5> <h5 id="_1-3-loader-转换器-可以将其他类型文件转换为我们想要的类型文件"><a href="#_1-3-loader-转换器-可以将其他类型文件转换为我们想要的类型文件" class="header-anchor">#</a> 1.3 loader 转换器  可以将其他类型文件转换为我们想要的类型文件</h5> <p>​	举例： 实现css的使用</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  <span class="token comment">/* ------------------------------- 转换器 ------------------------------ */</span>
  <span class="token comment">// 在webpack.config.js中做如下配置：</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">//这里用来存放转换器的配置</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// {} //每一个对象就是一个转换器的配置</span>
      <span class="token punctuation">{</span><span class="token comment">//css的处理</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">// 整个项目下匹配 .css结尾的文件</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span><span class="token string">'css-loader'</span><span class="token punctuation">]</span> <span class="token comment">//两个顺序是不写反的</span>
        <span class="token comment">// 我们需要使用css-loader将css文件编译为js,然后通过style-loader将js处理插入到html文件中【 style 嵌入模式 】</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h5 id="_1-4-配置前端静态服务器"><a href="#_1-4-配置前端静态服务器" class="header-anchor">#</a> 1.4 配置前端静态服务器</h5> <div class="language- extra-class"><pre class="language-text"><code>	//需要自动刷新： webServer 搭建前端开发服务器
    cnpm install webpack-dev-server -g | -D
    参数:
        命令行
        webpack-dev-server --port 8088 --open --mode development

        写到webpack.config.js配置文件:

        devServer: {//和module同级
            port: 8088,
            open:true,
            contentBase: 'dist的路径',
            hot: true 
        }

        终端运行方式2: webpack-dev-server
    
    把运行命令放到package.json文件:    devServer可以不要了
        &quot;scripts&quot;:{
            &quot;dev&quot;: &quot;webpack-dev-server  --config config/webpack.config.dev.js&quot;
        }

        终端: npm run dev
</code></pre></div><h5 id="_1-5-优雅降级配置"><a href="#_1-5-优雅降级配置" class="header-anchor">#</a> 1.5 优雅降级配置</h5> <ul><li><p>先安装转换器需要的包</p> <p><code>$ cnpm install babel-loader@8.0.4 @babel/core @babel/preset-env -D</code></p></li> <li><p>配置webpack.config.js</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>	<span class="token comment">// 在webpack.config.js的module.rules中进行配置</span>
        <span class="token punctuation">{</span><span class="token comment">// 配置优雅降级</span>
            test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">// 排除node_models中的js文件</span>
            use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
              loader<span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
              options<span class="token operator">:</span> <span class="token punctuation">{</span>
                presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'@babel/preset-env'</span><span class="token punctuation">]</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span>

          <span class="token punctuation">}</span>
</code></pre></div></li></ul> <h5 id="_1-6-html产出-依赖的是插件"><a href="#_1-6-html产出-依赖的是插件" class="header-anchor">#</a> 1.6 html产出 - 依赖的是插件</h5> <ul><li><p>安装插件需要的第三方包</p> <p><code>$ cnpm i html-webpack-plugin -D</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>	<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span>
	
    <span class="token comment">//添加一个配置项</span>
    plugins<span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                template<span class="token operator">:</span> <span class="token string">'./public/index.html'</span><span class="token punctuation">,</span>
                filename<span class="token operator">:</span> <span class="token string">'./index.html'</span><span class="token punctuation">,</span><span class="token comment">//默认到output目录</span>
                hash<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//防止缓存,会给文件后面加入hash</span>
                minify<span class="token operator">:</span><span class="token punctuation">{</span>
                    removeAttributeQuotes<span class="token operator">:</span><span class="token boolean">true</span><span class="token comment">//压缩 去掉引号</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
</code></pre></div></li></ul> <h5 id="_1-7-css抽离-依赖的是插件"><a href="#_1-7-css抽离-依赖的是插件" class="header-anchor">#</a> 1.7 css抽离 - 依赖的是插件</h5> <blockquote><p>将webpack编译过得css文件以 css外部引用的形式引入</p></blockquote> <ul><li><p>安装插件</p> <p><code>$ cnpm i mini-css-extract-plugin -D</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>
    <span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//loader配置：</span>
    use<span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span> <span class="token comment">//不再需要style-loader</span>

    <span class="token comment">//pulgin配置</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token operator">:</span> <span class="token string">'css/index.css'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ul> <h5 id="_1-8-图片打包"><a href="#_1-8-图片打包" class="header-anchor">#</a> 1.8 图片打包</h5> <div class="language-javascript extra-class"><pre class="language-javascript"><code>yarn add url<span class="token operator">-</span>loader file<span class="token operator">-</span>loader <span class="token operator">--</span>dev

npm i url<span class="token operator">-</span>loader file<span class="token operator">-</span>loader <span class="token operator">--</span>save<span class="token operator">-</span>dev

    <span class="token comment">//url-loader 存base64  file-loader存文件（woff mp3）</span>
    <span class="token punctuation">{</span>
        test<span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpg|gif)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
          loader<span class="token operator">:</span> <span class="token string">'url-loader'</span><span class="token punctuation">,</span>
          options<span class="token operator">:</span> <span class="token punctuation">{</span>
            limit<span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span><span class="token comment">//字节少于5000 ——》 base64  超过5000  file</span>
            outputPath<span class="token operator">:</span> <span class="token string">'images/'</span><span class="token punctuation">,</span> <span class="token comment">//5000意思存到images</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>

<span class="token comment">//css中引入 | js动态(模块化) 引入</span>
</code></pre></div><h5 id="_1-9-静态资源拷贝"><a href="#_1-9-静态资源拷贝" class="header-anchor">#</a> 1.9 静态资源拷贝</h5> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  npm i copy<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin <span class="token operator">-</span><span class="token constant">D</span>

    <span class="token keyword">const</span> CopyWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'copy-webpack-plugin'</span><span class="token punctuation">)</span>
<span class="token comment">//plugin配置</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span> <span class="token keyword">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">'static'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> to<span class="token operator">:</span> 				path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">'build/static'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>​</p> <p>​</p> <p>​</p> <p>​</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.2c569677.js" defer></script><script src="/docs/assets/js/2.b553e760.js" defer></script><script src="/docs/assets/js/13.659b955f.js" defer></script>
  </body>
</html>
